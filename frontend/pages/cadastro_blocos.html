<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cadastro de Blocos</title>
  <link rel="stylesheet" href="../css/cadastro_blocos.css">
</head>
<body>

  <h1 id="tituloPagina">Cadastro de Bloco</h1>

  <form id="formBloco">
    <label for="descricao">Descrição:</label>
    <input type="text" id="descricao" name="descricao" required>

    <label for="qtd_apartamentos">Quantidade de Apartamentos:</label>
    <input type="number" id="qtd_apartamentos" name="qtd_apartamentos" required>

    <div class="botoes">
      <button type="submit">Salvar</button>
      <button type="button" id="btnCancelar">Cancelar</button>
    </div>
  </form>

  <script>
    function getModo() {
      const params = new URLSearchParams(window.location.search);
      return params.get('modo');
    }

    function configurarTela() {
      const modo = getModo();
      const titulo = document.getElementById('tituloPagina');

      if (modo === 'novo') {
        titulo.textContent = 'Cadastrar Novo Bloco';
      } else {
        titulo.textContent = 'Editar Bloco';
      }
    }

    function salvarBloco(event) {
      event.preventDefault();
      const descricao = document.getElementById('descricao').value;
      const qtd = document.getElementById('qtd_apartamentos').value;

      alert(`Bloco salvo:\nDescrição: ${descricao}\nQtd. Apartamentos: ${qtd}`);
      window.location.href = 'pesquisar_blocos.html';
    }

    function cancelar() {
      window.location.href = 'pesquisar_blocos.html';
    }

    document.getElementById('formBloco').addEventListener('submit', salvarBloco);
    document.getElementById('btnCancelar').addEventListener('click', cancelar);

    window.onload = configurarTela;
  </script>
</body>
</html>
